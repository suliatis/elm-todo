<!DOCTYPE html>
<html>
  <head>
    <!--<link rel="stylesheet" href="assets/base.css">-->
    <link rel="stylesheet" href="assets/index.css">
    <style>
		body {
			width: auto;
		}
		.todomvc-wrapper {
			visibility: visible !important;
		}
    </style>
  </head>
  <body>
    <div id="elm-goes-here"></div>
    <script src="elm.js"></script>
    <script>
      var storedState = localStorage.getItem('elm-todo-save');
      var startingState = storedState ? JSON.parse(storedState) : null;
      var app = Elm.Main.init({
        flags: startingState,
        node: document.getElementById('elm-goes-here')
      }); 
      app.ports.setStorage.subscribe(function (state) {
        localStorage.setItem('elm-todo-save', JSON.stringify(state));
      });
    </script>
  </body>
</html>
